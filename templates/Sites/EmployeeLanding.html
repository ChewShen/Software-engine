{% load static %}
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'EmployeeStyle.css' %}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css?hash=abcdef123456">
</head>

<style>
      #overlay-alert-container {
      position: fixed;
      top: 60px; 
      left: 0;
      width: 100%;
      z-index: 1000; 
      pointer-events: none; 
      }
  
      .alert {
          pointer-events: auto;
      }
  </style>

    <body>
        {% include 'Sites\navbar.html' %}

        {% if messages %}
        <div id="overlay-alert-container">
                {% for message in messages %}
                    {% if message.tags == 'success' %}
                        <div class="alert alert-success alert-dismissible fade show" data-timeout="4000" role="alert">
                            <strong>Success:</strong> {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% elif message.tags == 'error' %}
                        <div class="alert alert-danger alert-dismissible fade show"  data-timeout="4000" role="alert">
                            <strong>Error:</strong> {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% else %}
                        <div class="alert alert-warning alert-dismissible fade show" data-timeout="4000" role="alert">
                            <strong>Warning:</strong> {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
        
        {% if user.is_authenticated %}
            {%if user.role == 'Employee' %}
                <div class="element">
                    <div class="overlap-group-wrapper">
                        <div class="overlap-group">
                            <div class="content">
                                <p class="text-wrapper">Welcome {{user.username}} </p>
                                <p class="div">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cursus imperdiet sed id elementum. Quam vel
                                    aliquam sit vulputate. Faucibus nec gravida ipsum pulvinar vel.
                                </p>
                            </div>

                            
                            <a href = "/NoticeBoard "type ="button" class="primary-button text-wrapper-2 btn btn-outline-secondary">View&nbsp;&nbsp;Notice</a>
                            <a href = "/AllUsers/EmployeeEdit "type ="button" class="view-notice-wrapper text-wrapper-2 btn btn-outline-secondary">Manage&nbsp;&nbsp;Profile</a>
                            <a href = "/EmployeeSchedule" type="button" class="text-wrapper-2 div-wrapper btn btn-outline-secondary">View TimeTable</a>
                        </div>
                    </div>
                </div>
            {% else %}
            <h1>try harder</h1>
            {% endif %}

        {% else %}
        <h1>U suck</h1>
        {% endif %}

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
        <script src="script.js?hash=abcdef123456"></script>
        <script type="text/javascript">
            let alert_list = document.querySelectorAll('.alert')
            alert_list.forEach(function(alert) {
                new bootstrap.Alert(alert);
        
                let alert_timeout = alert.getAttribute('data-timeout');
                setTimeout(() => {
                    bootstrap.Alert.getInstance(alert).close();
                }, +alert_timeout);
            });
        </script>

    </body>
</html>
